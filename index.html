<!DOCTYPE html>
<html lang="af">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Lekker Lees</title>

<style>
/* =====================
   STABIELE SELFON-UITLEG (GEKALIBREER)
===================== */
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  overflow-x: hidden; /* VERHOED ENIGE HORIZONTALE SCROLL */
  font-family: Arial, sans-serif;
}
}

.screen {
  position: absolute;
  inset: 0;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: url('Agtergrond.png') no-repeat center center;
  background-size: cover;

}

.hidden { display: none; z-index: 0; }

/* =====================
   TITEL
===================== */
.title {
  font-size: clamp(36px, 8vw, 56px);
  font-weight: 800;
  margin-bottom: 12px;
}

.rainbow span:nth-child(1){color:#00cfff;}
.rainbow span:nth-child(2){color:#ff5c5c;}
.rainbow span:nth-child(3){color:#ffd600;}
.rainbow span:nth-child(4){color:#66ff66;}
.rainbow span:nth-child(5){color:#4d7cff;}
.rainbow span:nth-child(6){color:#d066ff;}

/* =====================
   OPENING SKERM
===================== */
#timeInput {
  width: 220px;
  height: 64px;
  font-size: 28px;
  text-align: center;
  border-radius: 16px;
  margin: 8px 0 16px;
}

.start-row {
  width: 100%;
  max-width: 300px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.start-row img {
  width: 180px;
  height: auto;
}

.start-row button {
  width: 100%;
  font-size: 22px;
  padding: 14px;
  border-radius: 16px;
  border: none;
  font-weight: 700;
  color: white;
  background: linear-gradient(90deg,#00cfff,#4dff88,#ffda44,#ff5c5c);
}

/* =====================
   SPEEL SKERM
===================== */
.top-bar {
  position: absolute;
  top: 10px;
  left: 0;
  right: 0;           /* BELANGRIK: keer oorloop regs */
  padding: 0 12px;    /* effens kleiner */
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  font-weight: 700;
}
}

#stamps {
  display: flex;
  gap: 6px;
  max-width: 34vw;     /* streng binne skerm */
  overflow: hidden;
  box-sizing: border-box;
}

#stamps img {
  width: 26px;
  height: 26px;
  flex-shrink: 0;
}

#stamps img {
  width: 32px;
  height: 32px;
}

.sentence {
  margin-top: 90px;
  font-size: clamp(26px, 7vw, 40px);
  font-weight: 700;
  text-align: center;
  padding: 0 14px;
}

#choices {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 28px;
  padding: 0 20px;
}

.choice {
  font-size: 22px;
  padding: 14px 12px;
  min-width: 80px;
  text-align: center;
  border-radius: 14px;
  border: 3px solid #444;
  background: #eee;
}

.back-btn {
  margin-top: 32px;
  font-size: 20px;
  padding: 14px 24px;
  border-radius: 16px;
  border: none;
  background: linear-gradient(90deg,#ff5c5c,#ff944d);
  color: white;
}

/* =====================
   VIDEO SKERM
===================== */
#videoScreen video {
  width: 90%;
  max-height: 55%;
}

#videoScreen button {
  margin-top: 20px;
  font-size: 20px;
  padding: 14px 24px;
  border-radius: 16px;
  border: none;
  background: linear-gradient(90deg,#ff5c5c,#ff944d);
  color: white;
}
</style>
</head>
<body>

<!-- ================= OPENING SKERM ================= -->
<div id="start" class="screen">
  <div class="title rainbow">
    <span>L</span><span>e</span><span>k</span><span>k</span><span>e</span><span>r</span>
    <span> </span>
    <span>L</span><span>e</span><span>e</span><span>s</span>
  </div>

  <input id="timeInput" type="number" min="1" max="20" placeholder="Tyd">

  <div class="start-row">
    <button onclick="startGame()">Speel</button>
    <img src="Lees.png" alt="Lees">
    <button onclick="openAdd()">Voeg By</button>
  </div>
</div>

<!-- ================= SPEEL SKERM ================= -->
<div id="game" class="screen hidden">
  <div class="top-bar">
    <div>Tyd: <span id="timer"></span></div>
    <div id="stamps"></div>
  </div>

  <div class="sentence" id="sentence"></div>
  <div id="choices"></div>

  <button class="back-btn" onclick="goHome()">Terug</button>
</div>

<!-- ================= VIDEO SKERM ================= -->
<div id="videoScreen" class="screen hidden">
  <video id="reward" src="Video.mp4"></video>
  <button onclick="stopVideoAndHome()">Gaan terug</button>
</div>

<script>
/* ================= SPEL LOGIKA ================= */

let sentences = JSON.parse(localStorage.getItem('lekkerlees')) || [
 {s:"Sus slaap op die _________.", a:"bed", c:["bed","stoel","tafel"]},
 {s:"Boet skop die _________.", a:"bal", c:["das","blik","bal"]},
 {s:"Die huis het 'n __________ op.", a:"dak", c:["vloer","dak","venster"]},
 {s:"Juffrou lees 'n __________.", a:"boek", c:["kar","boek","vurk"]},
 {s:"Mamma maak vir ons ________.", a:"kos", c:["vuur","hout","kos"]},
 {s:"Oupa kuier by ons in die _________.", a:"tuin", c:["skool","tuin","pad"]},
 {s:"Pappa maak vuur vir _________.", a:"braai", c:["braai","slaai","grond"]},
 {s:"Die hond _________ vir die kat.", a:"blaf", c:["snork","blaf","rol"]},
 {s:"My speelgoed lÃª orals ________.", a:"rond", c:["rond","driehoek","vierkant"]}
];

let timer, timeLeft, startTime, score;
let remaining = [], failed = [], current;

function showScreen(id){
  ['start','game','videoScreen'].forEach(s =>
    document.getElementById(s).classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

document.addEventListener('DOMContentLoaded', ()=>{
  const playBtn = document.querySelector('#start button:nth-of-type(1)');
  const addBtn  = document.querySelector('#start button:nth-of-type(2)');

  if(playBtn) playBtn.addEventListener('click', startGame);
  if(addBtn)  addBtn.addEventListener('click', openAdd);
});

function startGame(){
  let t = document.getElementById('timeInput').value;
  if(!t || t > 20){ alert("Kies eers 'n tyd!"); return; }

  score = 0;
  startTime = parseInt(t);
  remaining = [...sentences];
  failed = [];
  document.getElementById('stamps').innerHTML = '';

  showScreen('game');
  loadNext();
}

function resetTimer(){
  clearInterval(timer);
  timeLeft = startTime;
  document.getElementById('timer').textContent = timeLeft;
  timer = setInterval(()=>{
    timeLeft--;
    document.getElementById('timer').textContent = timeLeft;
    if(timeLeft <= 0){ failed.push(current); loadNext(); }
  },1000);
}

function loadNext(){
  if(score >= 5){ endGame(); return; }
  if(remaining.length === 0){ remaining = [...failed]; failed = []; }

  current = remaining.shift();
  document.getElementById('sentence').textContent = current.s;

  let shuffled = [...current.c].sort(()=>Math.random()-0.5);
  let ch=document.getElementById('choices'); ch.innerHTML='';

  resetTimer();

  shuffled.forEach(w=>{
    let d=document.createElement('div');
    d.className='choice';
    d.textContent=w;
    d.addEventListener('click', ()=>check(w));
    ch.appendChild(d);
  });
}

function check(w){
  clearInterval(timer);
  if(w === current.a){
    score++;
    let stamp = document.createElement('img');
    stamp.src = 'Eend.png';
    stamp.alt = 'Ducky';
    document.getElementById('stamps').appendChild(stamp);
  } else {
    failed.push(current);
  }
  loadNext();
}

function endGame(){
  clearInterval(timer);
  showScreen('videoScreen');
  let v=document.getElementById('reward');
  v.currentTime=0; v.play();
}

function stopVideoAndHome(){
  let v=document.getElementById('reward');
  v.pause(); v.currentTime=0;
  goHome();
}

function goHome(){
  clearInterval(timer);
  document.getElementById('timeInput').value='';
  showScreen('start');
}

function openAdd(){
  alert('Voeg-By-skerm kan later hier kom');
}
</script>

</body>
</html>
